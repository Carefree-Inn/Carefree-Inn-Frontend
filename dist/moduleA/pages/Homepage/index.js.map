{"version":3,"file":"moduleA/pages/Homepage/index.js","sources":["webpack:///._src_moduleA_pages_Homepage_index.jsx","webpack:///./src/moduleA/pages/Homepage/index.jsx?8ece","webpack:///._src_moduleA_pages_Homepage_index.less"],"sourcesContent":["import Taro , { useReady,getCurrentInstance}from '@tarojs/taro'\nimport {  useState , useEffect} from 'react'\nimport { View, Image, Button} from '@tarojs/components'\nimport Mypost from '../../../Components/MyPost'\nimport { getJson } from '../../../Service/fet'\n/* import Fetch from '../../../Service/fetch' */\nimport './index.less'\n\n\nconst Homepage=()=>{\n\n  const [name,setName] = useState('')\n  const [avatar,setAvatar] = useState('')\n  const [posts,setPosts] = useState([])\n  const [page,setPage] = useState(1)\n\n\n  useReady(()=>{\n   // console.log('Ready')\n    const params = getCurrentInstance()\n    const param = params.router.params\n    console.log(param.name)\n    setName(param.name)\n    setAvatar(param.avatar)\n  })\n\n  useEffect(()=>{\n\n    getJson(\n      '/post/user?page=' + page +'&limit=' + 10\n      )\n      .then(res=>{\n        console.log(res.data)\n        setPosts(res.data)\n      })\n  },[])\n\n  function toEdit(){\n    Taro.navigateTo({\n      url:'/moduleA/pages/EditInfo/index'\n    })\n  }\n  \n  return (\n\n    <>\n    <View className='home'>\n      <View className='edit'>\n        <Button onClick={toEdit}>编辑</Button>\n      </View>\n      <View className='top'>\n        <View className='name'>{name}</View>\n        <View className='avatar'>\n          <Image src={avatar}></Image>\n        </View>\n      </View>\n      <View className='bottom'>\n       {/*  <View className='nav'> */}\n        <View className='publish'>我发布的</View>\n        {/* </View> */}\n        {posts.map((item)=>{ return(\n           <View className='post' key={item.post_id}>\n              <Mypost id={item.post_id} avatar={item.user_info.avatar} nickname={item.user_info.nickname} create_time={item.create_time}likes={item.likes} liked={item.liked} title={item.title} content={item.content} />\n          </View>\n         )})}\n      </View>\n    </View>\n    </>\n  )\n}\nexport default Homepage;\n","import { createPageConfig } from '@tarojs/runtime'\nimport component from \"../../../../node_modules/babel-loader/lib/index.js!./index.jsx\"\nvar config = {};\n\n\nvar inst = Page(createPageConfig(component, 'moduleA/pages/Homepage/index', {root:{cn:[]}}, config || {}))\n\n\n","// extracted by mini-css-extract-plugin"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAGA;AAEA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA;AAIA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AAEA;AACA;AAAA;AACA;AAAA;AACA;AAAA;AAAA;AAAA;AAEA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AACA;AAAA;AAAA;AACA;AAEA;AAAA;AAEA;AAAA;AAAA;AAEA;AACA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AACA;AACA;AAGA;AACA;;;;;;;;;;;;;ACtEA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACPA;;;;A","sourceRoot":""}