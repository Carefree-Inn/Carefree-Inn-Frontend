{"version":3,"file":"moduleA/pages/MyReply/index.js","sources":["webpack:///._src_moduleA_pages_MyReply_index.jsx","webpack:///._src_Components_Notification_index.jsx","webpack:///._src_Components_Notification_index.less","webpack:///./src/moduleA/pages/MyReply/index.jsx?0385","webpack:///._src_moduleA_pages_MyReply_index.less"],"sourcesContent":["import { useReady,getCurrentInstance}from '@tarojs/taro'\nimport { View} from '@tarojs/components'\nimport { useEffect, useState } from 'react'\nimport Notification from '../../../Components/Notification'\n/* import Fetch from '../../../Service/fetch' */\nimport './index.less'\nimport { getJson } from '../../../Service/fet'\n\n\n\nconst MyReply = ()=>{\n\n\n    const [msg,setMsg] = useState([])\n    const [his,setHis] = useState([])//历史通知\n    const [page,setPage] = useState(1)\n    const limit =10\n  useReady(()=>{\n    // console.log('Ready')\n     const params = getCurrentInstance()\n     const param = params.router.params\n     const data = JSON.parse(param.message)\n     console.log( JSON.parse(param.message))\n     setMsg(data.data)\n     //const data = JSON.parse(param.message)\n    // setMsg(data.data)\n   })\n\n   useEffect(()=>{\n        getJson(\n            '/notification/history?page=' + page + '&limit=' + limit\n            )\n        .then(res=>{\n            console.log(res)\n            setHis(res.data)\n        })\n   },[])\n\n    return (\n        <>\n            <View className='reply'>\n                <View className='lastest'>最新</View>\n                <View className='l_box'>\n                    {msg.map((item)=>{\n                        return(\n                            <Notification key={item.create_time} id={item.post_id} comment_name={item.from_user_nick_name} like_name={item.from_user_nickname} create_time={item.create_time} like_type={item.like_type} content={item.content} comment_time={item.comment_time} avatar={item.from_user_avatar} />\n                        )\n                    })}\n                </View>\n                <View className='history'>历史</View>\n                <View className='h_box'>\n                {his.map((item)=>{\n                        return(\n                            <Notification key={item.create_time} type={item.ActionType}  id={item.PostId} comment_name={item.FromUserNickname} like_name={item.FromUserNickname} create_time={item.ActionTime}  content={item.CommentContent} comment_time={item.ActionTime} avatar={item.FromUserAvatar} />\n                        )\n                    })}  \n                </View>\n            </View>\n        </>\n    )\n}\n\nexport default MyReply;","\nimport {Image, Text, View} from \"@tarojs/components\";\nimport { useEffect, useState } from \"react\";\n//import mine from '../../Images/avatar.png'\nimport './index.less'\nimport { getJson } from \"../../Service/fet\";\n\n\n\nconst Notification = (props) =>{\n\n    const {comment_name,like_name, create_time, comment_time,avatar,id,content} = props\n    const [type,setType] = useState(0) //0:点赞 1:评论\n    const [post,setPost] = useState('')\n\n    useEffect(()=>{\n        if(props.like_type||props.type=='like')\n        { \n            console.log('like')\n            setType(0)\n        }\n        else\n            setType(1)\n        getJson(\n            '/post/info?post_id=' + id\n            )\n        .then(res=>{\n            console.log(res)\n            setPost(res.data.content)\n        })\n    },[])\n\n    return(\n        <>\n            <View className='notif'>\n                <View className='avatar'>\n                    <Image className='img' src={avatar}></Image>\n                </View>\n                <View className='text'>\n                    <View className='top'><Text className='name'>{comment_name?comment_name:like_name}</Text>&nbsp;&nbsp;{type?'评论':'点赞'}了我的帖子  </View>\n                    <View className='comment'>{content}</View>\n                    <Text className='time'>{create_time?create_time:comment_time}</Text>\n                </View>\n                <View className='post'>{post}</View>\n            </View>\n        </>\n    )\n}\n\nexport default Notification;","// extracted by mini-css-extract-plugin","import { createPageConfig } from '@tarojs/runtime'\nimport component from \"../../../../node_modules/babel-loader/lib/index.js!./index.jsx\"\nvar config = {\"navigationBarTitleText\":\"收到的回复\"};\n\n\nvar inst = Page(createPageConfig(component, 'moduleA/pages/MyReply/index', {root:{cn:[]}}, config || {}))\n\n\n","// extracted by mini-css-extract-plugin"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAIA;AAGA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAIA;AACA;AACA;AACA;AAEA;AACA;AACA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAEA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAEA;AAAA;AAAA;AACA;AAAA;AAEA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AACA;AACA;AAGA;AAEA;;;;;;;;;;;;;;;;;;;;;;;AC7DA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAIA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAEA;AACA;AAEA;AACA;AACA;AAGA;AAIA;AACA;AACA;AACA;AAEA;AACA;AACA;AAAA;AACA;AAAA;AACA;AAAA;AAAA;AAAA;AAEA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AACA;AAGA;AAEA;;;;;;;;;;;ACjDA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACPA;;;;A","sourceRoot":""}